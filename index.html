<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DSAL Programs</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #121212;
    color: #e6e6e6;
    margin: 0;
    padding: 0;
  }

  /* ===== Login Screen ===== */
  .login-screen {
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #181818;
  }
  .login-box {
    background: #1e1e1e;
    padding: 40px 30px;
    border-radius: 10px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.4);
    text-align: center;
  }
  .login-box h2 {
    color: #fff;
    margin-bottom: 20px;
  }
  input[type=password] {
    width: 100%;
    padding: 10px;
    margin: 15px 0;
    border: 1px solid #333;
    border-radius: 6px;
    background: #2a2a2a;
    color: #eee;
  }
  button {
    background: #007bff;
    color: white;
    border: none;
    border-radius: 6px;
    padding: 10px 15px;
    cursor: pointer;
  }
  button:hover {
    background: #0056b3;
  }
  #error {
    color: #ff4d4d;
    margin-top: 10px;
  }

  /* ===== Main Content ===== */
  #main-content {
    display: none;
    padding: 20px;
  }

  h1 {
    text-align: center;
    color: #fff;
  }

  .question-box {
    background: #1e1e1e;
    border: 1px solid #2b2b2b;
    border-radius: 10px;
    margin: 20px auto;
    padding: 15px 20px;
    width: 90%;
    box-shadow: 0 3px 6px rgba(0,0,0,0.3);
    transition: background 0.2s;
    cursor: pointer;
  }

  .question-box:hover {
    background: #242424;
  }

  .question {
    font-weight: bold;
    font-size: 1.1em;
    color: #5ab0ff;
  }

  .answer {
    display: none;
    margin-top: 10px;
    background: #181818;
    border-left: 4px solid #007bff;
    padding: 10px;
    font-family: Consolas, monospace;
    white-space: pre-wrap;
    overflow-x: auto;
    color: #e6e6e6;
    position: relative;
  }

  .copy-btn {
    position: absolute;
    right: 10px;
    top: 10px;
    background: #007bff;
    color: white;
    border: none;
    border-radius: 6px;
    padding: 5px 10px;
    font-size: 0.9em;
    cursor: pointer;
  }

  .copy-btn:hover {
    background: #0056b3;
  }

  .copied-popup {
    position: fixed;
    top: 20px;
    right: 20px;
    background: #28a745;
    color: white;
    padding: 8px 14px;
    border-radius: 6px;
    opacity: 0;
    transition: opacity 0.3s ease;
    font-size: 0.9em;
    z-index: 1000;
  }

  .copied-popup.show {
    opacity: 1;
  }
</style>

<script>
function checkPassword() {
  const password = document.getElementById('password').value;
  const login = document.getElementById('login');
  const main = document.getElementById('main-content');
  const error = document.getElementById('error');

  if (password === 'kyedae') {
    login.style.display = 'none';
    main.style.display = 'block';
  } else {
    error.textContent = 'Incorrect password!';
  }
}

function toggleAnswer(id) {
  const answer = document.getElementById(id);
  answer.style.display = (answer.style.display === "block") ? "none" : "block";
}

function copyCode(id) {
  const answerDiv = document.getElementById(id);
  const code = Array.from(answerDiv.childNodes)
    .filter(n => n.nodeType === Node.TEXT_NODE || n.nodeName === "PRE")
    .map(n => n.textContent)
    .join("");

  navigator.clipboard.writeText(code.trim()).then(() => showPopup());
}

function showPopup() {
  const popup = document.createElement("div");
  popup.className = "copied-popup";
  popup.textContent = "âœ… Code copied!";
  document.body.appendChild(popup);
  setTimeout(() => popup.classList.add("show"), 10);
  setTimeout(() => {
    popup.classList.remove("show");
    setTimeout(() => popup.remove(), 300);
  }, 1200);
}
</script>
</head>

<body>
  <!-- Login -->
  <div class="login-screen" id="login">
    <div class="login-box">
      <h2>Enter Password</h2>
      <input type="password" id="password" placeholder="Password">
      <button onclick="checkPassword()">Login</button>
      <div id="error"></div>
    </div>
  </div>

  <!-- Main Content -->
  <div id="main-content">
    <h1>DSAL Practicals</h1>

    <!-- Q1 Heap Sort -->
    <div class="question-box" onclick="toggleAnswer('ans1')">
      <div class="question">Q1. Heap Sort Algorithm</div>
      <div class="answer" id="ans1">
        <button class="copy-btn" onclick="event.stopPropagation(); copyCode('ans1')">Copy Code</button>
def heapify(arr, n, i):
    largest = i
    left = 2 * i + 1
    right = 2 * i + 2

    if left < n and arr[left] > arr[largest]:
        largest = left
    if right < n and arr[right] > arr[largest]:
        largest = right

    if largest != i:
        arr[i], arr[largest] = arr[largest], arr[i]
        heapify(arr, n, largest)

def heap_sort(arr):
    n = len(arr)
    for i in range(n // 2 - 1, -1, -1):
        heapify(arr, n, i)
    for i in range(n - 1, 0, -1):
        arr[i], arr[0] = arr[0], arr[i]
        heapify(arr, i, 0)
    return arr

arr = [12, 11, 13, 5, 6, 7]
print("Original array:", arr)
print("Sorted array:", heap_sort(arr))
      </div>
    </div>

    <!-- Q2 Merge Sort -->
    <div class="question-box" onclick="toggleAnswer('ans2')">
      <div class="question">Q2. Merge Sort Algorithm</div>
      <div class="answer" id="ans2">
        <button class="copy-btn" onclick="event.stopPropagation(); copyCode('ans2')">Copy Code</button>
def merge_sort(arr):
    if len(arr) > 1:
        mid = len(arr) // 2
        left_half = arr[:mid]
        right_half = arr[mid:]
        merge_sort(left_half)
        merge_sort(right_half)
        i = j = k = 0
        while i < len(left_half) and j < len(right_half):
            if left_half[i] < right_half[j]:
                arr[k] = left_half[i]
                i += 1
            else:
                arr[k] = right_half[j]
                j += 1
            k += 1
        while i < len(left_half):
            arr[k] = left_half[i]
            i += 1
            k += 1
        while j < len(right_half):
            arr[k] = right_half[j]
            j += 1
            k += 1
    return arr

orders = [11, 2, 3, 7, 4]
print("Original delivery times:", orders)
merge_sort(orders)
print("Sorted delivery times:", orders)
      </div>
    </div>

    <!-- Q3 Fractional Knapsack -->
    <div class="question-box" onclick="toggleAnswer('ans3')">
      <div class="question">Q3. Fractional Knapsack</div>
      <div class="answer" id="ans3">
        <button class="copy-btn" onclick="event.stopPropagation(); copyCode('ans3')">Copy Code</button>
n = int(input("Enter number of parcels: "))
profit = []
weight = []
ratio = []

for i in range(n):
    p = float(input("Enter profit of parcel " + str(i+1) + ": "))
    w = float(input("Enter weight of parcel " + str(i+1) + ": "))
    profit.append(p)
    weight.append(w)
    ratio.append(p / w)

capacity = float(input("Enter truck capacity: "))

for i in range(n):
    for j in range(i + 1, n):
        if ratio[i] < ratio[j]:
            ratio[i], ratio[j] = ratio[j], ratio[i]
            profit[i], profit[j] = profit[j], profit[i]
            weight[i], weight[j] = weight[j], weight[i]

total_profit = 0
for i in range(n):
    if capacity == 0:
        break
    if capacity >= weight[i]:
        total_profit += profit[i]
        capacity -= weight[i]
    else:
        total_profit += profit[i] * (capacity / weight[i])
        break

print("Maximum Profit:", total_profit)
      </div>
    </div>

    <!-- Q4 Naive String Matching -->
    <div class="question-box" onclick="toggleAnswer('ans4')">
      <div class="question">Q4. Naive String Matching Algorithm</div>
      <div class="answer" id="ans4">
        <button class="copy-btn" onclick="event.stopPropagation(); copyCode('ans4')">Copy Code</button>
text = "AABAACAADAABAABA"
pattern = "AABA"
n = len(text)
m = len(pattern)

for i in range(n - m + 1):
    match = True
    for j in range(m):
        if text[i + j] != pattern[j]:
            match = False
            break
    if match:
        print("Pattern found at index", i)
      </div>
    </div>

    <!-- Q5 Maze Navigation BFS -->
    <div class="question-box" onclick="toggleAnswer('ans5')">
      <div class="question">Q5. Maze Navigation System (BFS)</div>
      <div class="answer" id="ans5">
        <button class="copy-btn" onclick="event.stopPropagation(); copyCode('ans5')">Copy Code</button>
from collections import deque

def bfs(maze, start, goal):
    queue = deque([start])
    visited = set()
    parent = {start: None}
    while queue:
        node = queue.popleft()
        if node == goal:
            break
        for dx, dy in [(1,0),(-1,0),(0,1),(0,-1)]:
            nxt = (node[0] + dx, node[1] + dy)
            if nxt not in visited and nxt in maze:
                visited.add(nxt)
                queue.append(nxt)
                parent[nxt] = node
    path = []
    step = goal
    while step:
        path.append(step)
        step = parent[step]
    return path[::-1]
      </div>
    </div>
  </div>
</body>
</html>
